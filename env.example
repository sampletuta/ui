# Production Environment Configuration
# IMPORTANT: Change all secrets before deployment!

# Django Core Settings
DEBUG=False
SECRET_KEY=django-secure-8k9x2!v#m@3$qwe4rt5y6ui7op8as9df0gh1jk2lz3
DJANGO_SETTINGS_MODULE=backend.settings
ENVIRONMENT=production

# Server Configuration
ALLOWED_HOSTS=localhost
BASE_URL=https://your-domain.com
CSRF_TRUSTED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Database Settings (PostgreSQL for production)
POSTGRES_DB=face_ai_prod
POSTGRES_USER=face_ai_prod_user
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql://face_ai_prod_user:CHANGE_THIS_STRONG_PASSWORD@localhost:5432/face_ai_prod

# Redis Settings (Production Redis)
REDIS_URL=redis://localhost:6379/1
REDIS_CACHE_URL=redis://localhost:6379/2
REDIS_SESSION_URL=redis://localhost:6379/3

# Security Settings
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin

# Content Security Policy
CSP_DEFAULT_SRC=self
CSP_SCRIPT_SRC=self https://cdn.jsdelivr.net https://code.jquery.com
CSP_STYLE_SRC=self https://cdn.jsdelivr.net https://fonts.googleapis.com
CSP_IMG_SRC=self data: https:
CSP_FONT_SRC=self https://fonts.gstatic.com
CSP_CONNECT_SRC=self https://api.your-domain.com
CSP_FRAME_SRC=none
CSP_OBJECT_SRC=none

# Rate Limiting
RATELIMIT_ENABLE=True
LOGIN_RATELIMIT=3/m
API_RATELIMIT=100/h
SEARCH_RATELIMIT=30/m

# Milvus Settings (Production Service)
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION_NAME=watchlist
MILVUS_COLLECTION_PREFIX=surveillance_
MILVUS_DIMENSION=512
MILVUS_METRIC_TYPE=COSINE
MILVUS_INDEX_TYPE=IVF_FLAT
MILVUS_INDEX_NLIST=1024
MILVUS_SEARCH_NPROBE=10
MILVUS_AUTO_CREATE_COLLECTION=True
MILVUS_AUTO_LOAD_COLLECTION=True

# Face AI Settings (Production)
FACE_DETECTION_SERVICE_URL=https://face-detection.your-domain.com/api/
FACE_AI_MAX_WORKERS=8
FACE_AI_BATCH_SIZE=20
FACE_AI_THREAD_POOL_SIZE=16
FACE_AI_ENABLE_GPU=true
FACE_AI_GPU_MEMORY_LIMIT=8GB

# Data Ingestion Service Settings
DATA_INGESTION_SERVICE_URL=https://data-ingestion.your-domain.com
DATA_INGESTION_TIMEOUT=60
DATA_INGESTION_API_KEY=CHANGE_THIS_API_KEY

# File Upload Settings (Stricter limits for production)
MAX_UPLOAD_SIZE=104857600  # 100MB
MAX_VIDEO_FILE_SIZE=536870912  # 512MB
CHUNKED_UPLOAD_THRESHOLD=104857600  # 100MB

# External Service Configuration
DOWNSTREAM_SERVICE_ENABLED=true
DOWNSTREAM_SERVICE_URL=https://analytics.your-domain.com/api/
DOWNSTREAM_SERVICE_TOKEN=CHANGE_THIS_SERVICE_TOKEN
DOWNSTREAM_SERVICE_TIMEOUT=30
DOWNSTREAM_SERVICE_RETRY_ATTEMPTS=5
DOWNSTREAM_SERVICE_BATCH_SIZE=50
DOWNSTREAM_SERVICE_ENABLE_ANALYTICS=true
DOWNSTREAM_SERVICE_ENABLE_EVENTS=true

# Monitoring and Logging
LOG_LEVEL=WARNING
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090

# Email Configuration (for notifications)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.your-email-provider.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@your-domain.com
EMAIL_HOST_PASSWORD=CHANGE_THIS_EMAIL_PASSWORD
DEFAULT_FROM_EMAIL=noreply@your-domain.com

# Admin Configuration
ADMINS=admin@your-domain.com
MANAGERS=manager@your-domain.com

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/var/backups/face_ai/

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/your-domain.crt
SSL_KEY_PATH=/etc/ssl/private/your-domain.key
SSL_DH_PARAM_PATH=/etc/ssl/dhparam.pem

# Performance Settings
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_MAX_REQUESTS=1000
GUNICORN_TIMEOUT=30

# Production mode confirmation
ENVIRONMENT=production
DJANGO_SETTINGS_MODULE=backend.settings_production

# Security confirmations
DEBUG=False
